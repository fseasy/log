---
title: '08 Feb 8086'
date: '2026-02-08T09:42:00+08:00'
description: "" # highlight
structure_log: 
  exercise: "-"
  reading: "-"
  draw: "-"
  pronounce: "-"
  wip_project:  ["dajuan-english"]
---

## 事项记录

### Todo

- pay 流程打通： 
  
  使用 code: 完成页面；代码基本写完，需要测试。 => 拿 copilot 直接就生成了单测代码，太牛了。
            - 写这个 bind 逻辑，写了大半天。
            - 主要是更新了这个 pay-log, 之前是一个字符串，现在想放一个 json list, 用户自己就能看到；同时未来可以增加如果多次验证失败，就拒绝再写入 log 了（免得数据库给撑爆了）
            - 然后删掉 paymethod 这个字段—因为把它直接放到 paylog 里了
  
- 耗时优化：发现鉴权这里耗时太大。定位到还是  supabase 的问题；根据 gemini 的说法，直接把权限信息放到 jwt 里就完了。 [DONE]
  -  顺带优化了 nav 展示：mobile 下会展示为 dropdown
- 用户 dashboard 页面 [doing]
  - 时间要优化 2026-02-08T15:38:36.179834+00:00 ；支付方式要优化 INVITE_CODE ；绑定成功的日志要优化 Redeem invite-code(0ecf9214d4)

- 管理员用户管理：
  - +pay-code；同步数据（应该不用，调用 +pay-code 接口应该就自动会同步数据了）？
  - SMTP 崩溃时的处理逻辑：
    - 手工验证邮箱 
    - 手工发送 password reset link
- Nginx 配置自动生成
- 额外脚本手动处理

### Process

304165bfc2

-----

## 情绪记录

### Good

### Bad

-----

## Reflect

